# Example for spoofed DNS entries
# Use the internal CA to issue a certificate
#
# sub.domain.com {
#   tls internal
#   reverse_proxy https://subdomain.spaniel-dragon.ts.net:443 {
#     transport http {
#       tls_insecure_skip_verify
#     }
#   }
# }

:80 {
  respond "Hello, world from the main Caddyfile"
}

rss.vpn.rsefer.com {
	tls internal
  reverse_proxy https://rss.spaniel-dragon.ts.net:443 {
    transport http {
      tls_server_name rss.spaniel-dragon.ts.net
    }
  }
}

ha.vpn.rsefer.com {
  tls internal
  reverse_proxy https://home-assistant.spaniel-dragon.ts.net:443 {
    transport http {
      tls_server_name home-assistant.spaniel-dragon.ts.net
    }
  }
}

go.vpn.rsefer.com {
  tls internal
  reverse_proxy https://go.spaniel-dragon.ts.net:443 {
    transport http {
      tls_server_name go.spaniel-dragon.ts.net
    }
  }
}
